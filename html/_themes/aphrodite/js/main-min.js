function forceDesktop(e){e.preventDefault();Mky.viewportSwitch()}function clearDesktop(e){e.preventDefault();Mky.viewportSwitch("width=device-width,initial-scale=1")}var Mky={setPreference:function(e,t,n,r){var i=this;if(typeof e!="string")throw new Error("Mky.setPreference: expecting param ‘preference’ to be type string.");if(typeof t!="string")throw new Error("Mky.setPreference: expecting param ‘value’ to be type string.");n=n||"session";switch(n){case"session":if(i.supports.sessionStorage){sessionStorage.setItem(e,t);return!0}if(i.supports.cookies&&r!==!1){i.setCookie(e,t);return!0}return!1;case"local":if(i.supports.localStorage){localStorage.setItem(e,t);return!0}if(i.supports.cookies&&r!==!1){i.setCookie(e,t,"Something");return!0}return!1}return!1},getPreference:function(e,t){var n=this,r;if(typeof e!="string")throw new Error("Mky.getPreference: expecting param ‘preference’ to be type string.");t=t||"session";switch(t){case"session":if(n.supports.sessionStorage){r=sessionStorage.getItem(e);return typeof r!="string"?"":r}return!1;case"local":if(n.supports.localStorage){r=localStorage.getItem(e);return typeof r!="string"?"":r}return!1}},viewportSwitch:function(e){var t=this,n=document.getElementById("vp"),r;e=e||"width=980";n&&n.setAttribute("content",e);r=t.setPreference("viewport",e,"session")},fetchContent:function(){},setCookie:function(e,t,n){if(typeof e!="string")throw new Error("Mky.setCookie: expecting param ‘name’ to be type string.");if(typeof t!="string")throw new Error("Mky.setCookie: expecting param ‘value’ to be type string.");n&&n!=="session"?n="; expires="+n:n="";document.cookie=e+"="+t+n},dom:{addClass:function(e,t){var n;if(typeof e!="object"&&typeof e!="string")throw new Error("Mky.dom.addClass: expecting param ‘element’ to be type object or string.");if(typeof t!="string")throw new Error("Mky.dom.addClass: expecting param ‘classNom’ to be type string.");typeof e!="object"&&(e=document.getElementById(e));if(e.classList){e.classList.add(t);return}n=e.className;n===""&&(e.className=t);if(n.indexOf(t)!==-1)return;e.className+=t},removeClass:function(e,t){var n,r;if(typeof e!="object"&&typeof e!="string")throw new Error("Mky.dom.removeClass: expecting param ‘element’ to be type object or string.");if(typeof t!="string")throw new Error("Mky.dom.removeClass: expecting param ‘classNom’ to be type string.");typeof e!="object"&&(e=document.getElementById(e));if(e.classList){if(e.classList.contains(t)){e.classList.remove(t);e.classList.length===0&&e.hasAttribute("class")&&e.removeAttribute("class")}return}n=e.className;if(n==="")return;n=n.split(" ");for(r=0;r<n.length;r+=r)if(n[r]===t){n.splice(r,1);break}if(n.length===0)e.removeAttribute("class");else{console.log(n.join(" "));e.className=n.join(" ")}},toggleClass:function(e,t){var n=this,r;if(typeof e!="object"&&typeof e!="string")throw new Error("Mky.dom.toggleClass: expecting param ‘element’ to be type object or string.");if(typeof t!="string")throw new Error("Mky.dom.toggleClass: expecting param ‘classNom’ to be type string.");typeof e!="object"&&(e=document.getElementById(e));e.classList&&(e.classList.contains(t)?n.removeClass(t):n.addClass(t))},hasClass:function(e,t){var n,r;if(typeof e!="object"&&typeof e!="string")throw new Error("Mky.dom.hasClass: expecting param ‘element’ to be type object or string.");if(typeof t!="string")throw new Error("Mky.dom.hasClass: expecting param ‘classNom’ to be type string.");typeof e!="object"&&(e=document.getElementById(e));if(e.classList)return e.classList.contains(t);n=e.className;if(n==="")return!1;n=n.split(" ");for(r=0;r<n.length;r+=r)if(n[r]===t)return!0}},events:{addListener:function(e,t,n){if(typeof e!="object")throw new Error("Mky.event.addListener: expecting param ‘element’ to be type object.");if(typeof t!="string")throw new Error("Mky.event.addListener: expecting param ‘event’ to be type string.");if(typeof n!="function")throw new Error("Mky.event.addListener: expecting param ‘listener’ to be type function.");t=[t,"on"+t];if(e.addEventListener&&window.addEventListener){e.addEventListener(t[0],n,!1);return}if(e.attachEvent&&window.attachEvent){e.attachEvent(t[1],n);return}e.event[1]&&(e.event[1]=n)},removeListener:function(e,t,n){if(typeof e!="object")throw new Error("Mky.event.removeListener: expecting param ‘element’ to be type object.");if(typeof t!="string")throw new Error("Mky.event.removeListener: expecting param ‘event’ to be type string.");if(typeof n!="function")throw new Error("Mky.event.removeListener: expecting param ‘listener’ to be type function.");t=[t,"on"+t];if(e.removeEventListener&&window.removeEventListener){e.removeEventListener(t[0],n,!1);return}if(e.detachEvent&&window.detachEvent){e.detachEvent(t[1],n);return}e.event[1]&&(e.event[1]=null)}},supports:{},test:{cookies:function(){return"cookie"in document},history:function(){return!!(window.history&&window.history.pushState&&window.history.replaceState&&"PopStateEvent"in window)},localStorage:function(){var e="localStorage";try{localStorage.setItem("supports",e);if(localStorage.getItem("supports")!==e)return!1;localStorage.removeItem("supports");return!0}catch(t){return!1}},sessionStorage:function(){var e="sessionStorage";try{sessionStorage.setItem("supports",e);if(sessionStorage.getItem("supports")!==e)return!1;sessionStorage.removeItem("supports");return!0}catch(t){return!1}},touchEvents:function(){return"ontouchstart"in window}},load:function(){var e=this,t=e.test;for(feature in t)e.supports[feature]=t[feature]()}};Mky.load();(function(){if(Mky.supports.sessionStorage){var t=Mky.getPreference("viewport");typeof t=="string"&&t!==""&&Mky.viewportSwitch()}})();(function(){var t=document.querySelectorAll(".viewport-switch");for(i=0;i<t.length;i+=1)t[i].getAttribute("href").indexOf("vp=desktop")!==-1?Mky.events.addListener(t[i],"click",forceDesktop):t[i].getAttribute("href").indexOf("vp=initial")!==-1&&Mky.events.addListener(t[i],"click",clearDesktop)})();(function(){var t={render:function(){var e=this,t=document.getElementById("preferences"),n='<a href="#preferences-pane">Settings</a>',r='<div role="menu" id="preferences"><fieldset class="preferences-text-size"><legend>Text size</legend><label for="text-size-smaller">Smaller</label><input type="radio" name="text-size" id="text-size-smaller" value="smaller"><label for="text-size-normal">Normal</label><input type="radio" name="text-size" id="text-size-normal" value="normal" checked><label for="text-size-bigger">Bigger</label><input type="radio" name="text-size" id="text-size-bigger" value="bigger"></fieldset><fieldset class="preferences-line-length"><legend>Line length</legend><label for="line-length-thinner">Thinner</label><input type="radio" name="line-length" id="line-length-thinner" value="thinner"><label for="line-length-normal">Normal</label><input type="radio" name="line-length" id="line-length-normal" value="normal" checked><label for="line-length-wider">Wider</label><input type="radio" name="line-length" id="line-length-wider" value="wider"></fieldset><fieldset class="preferences-desktop-view"><label for="desktop-view">Desktop view</label><input type="checkbox" id="desktop-view"></fieldset><fieldset class="preferences-remember-preferences"><legend>Remember preferences</legend><label for="remember-preferences-for-now">For now</label><input type="radio" name="remember-preferences" id="remember-preferences-for-now" value="for now" checked><label for="remember-preferences-forever">Forever</label><input type="radio" name="remember-preferences" id="remember-preferences-forever" value="forever"></fieldset><input type="reset" name="restore-defaults" value="Restore defaults"></div>';if(typeof t=="object"){t.innerHTML=n+r;e.setUpEvents()}},setUpEvents:function(){var e=this},changeTextSize:function(){var e=this},changeTextWidth:function(){var e=this},changeViewport:function(){var e=this},changeStorageDuration:function(){var e=this}};t.render()})();